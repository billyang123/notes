define("selectize/Sifter",[],function(a,b){var c=function(a,b){this.items=a,this.settings=b||{diacritics:!0}};c.prototype.tokenize=function(a){if(a=f(String(a||"").toLowerCase()),!a||!a.length)return[];var b,c,d,e,h=[],j=a.split(/ +/);for(b=0,c=j.length;c>b;b++){if(d=g(j[b]),this.settings.diacritics)for(e in i)i.hasOwnProperty(e)&&(d=d.replace(new RegExp(e,"g"),i[e]));h.push({string:j[b],regex:new RegExp(d,"i")})}return h},c.prototype.iterator=function(a,b){var c;c=h(a)?Array.prototype.forEach||function(a){for(var b=0,c=this.length;c>b;b++)a(this[b],b,this)}:function(a){for(var b in this)this.hasOwnProperty(b)&&a(this[b],b,this)},c.apply(a,[b])},c.prototype.getScoreFunction=function(a,b){var c,d,e,f;c=this,a=c.prepareSearch(a,b),e=a.tokens,d=a.options.fields,f=e.length;var g=function(a,b){var c,d;return a?(a=String(a||""),d=a.search(b.regex),-1===d?0:(c=b.string.length/a.length,0===d&&(c+=.5),c)):0},h=function(){var a=d.length;return a?1===a?function(a,b){return g(b[d[0]],a)}:function(b,c){for(var e=0,f=0;a>e;e++)f+=g(c[d[e]],b);return f/a}:function(){return 0}}();return f?1===f?function(a){return h(e[0],a)}:"and"===a.options.conjunction?function(a){for(var b,c=0,d=0;f>c;c++){if(b=h(e[c],a),0>=b)return 0;d+=b}return d/f}:function(a){for(var b=0,c=0;f>b;b++)c+=h(e[b],a);return c/f}:function(){return 0}},c.prototype.getSortFunction=function(a,b){var c,e,f,g,h,i,j,k,l,m,n;if(f=this,a=f.prepareSearch(a,b),n=!a.query&&b.sort_empty||b.sort,l=function(a,b){return"$score"===a?b.score:f.items[b.id][a]},h=[],n)for(c=0,e=n.length;e>c;c++)(a.query||"$score"!==n[c].field)&&h.push(n[c]);if(a.query){for(m=!0,c=0,e=h.length;e>c;c++)if("$score"===h[c].field){m=!1;break}m&&h.unshift({field:"$score",direction:"desc"})}else for(c=0,e=h.length;e>c;c++)if("$score"===h[c].field){h.splice(c,1);break}for(k=[],c=0,e=h.length;e>c;c++)k.push("desc"===h[c].direction?-1:1);return i=h.length,i?1===i?(g=h[0].field,j=k[0],function(a,b){return j*d(l(g,a),l(g,b))}):function(a,b){var c,e,f;for(c=0;i>c;c++)if(f=h[c].field,e=k[c]*d(l(f,a),l(f,b)))return e;return 0}:null},c.prototype.prepareSearch=function(a,b){if("object"==typeof a)return a;b=e({},b);var c=b.fields,d=b.sort,f=b.sort_empty;return c&&!h(c)&&(b.fields=[c]),d&&!h(d)&&(b.sort=[d]),f&&!h(f)&&(b.sort_empty=[f]),{options:b,query:String(a||"").toLowerCase(),tokens:this.tokenize(a),total:0,items:[]}},c.prototype.search=function(a,b){var c,d,e,f,g=this;return d=this.prepareSearch(a,b),b=d.options,a=d.query,f=b.score||g.getScoreFunction(d),a.length?g.iterator(g.items,function(a,e){c=f(a),(b.filter===!1||c>0)&&d.items.push({score:c,id:e})}):g.iterator(g.items,function(a,b){d.items.push({score:1,id:b})}),e=g.getSortFunction(d,b),e&&d.items.sort(e),d.total=d.items.length,"number"==typeof b.limit&&(d.items=d.items.slice(0,b.limit)),d};var d=function(a,b){return"number"==typeof a&&"number"==typeof b?a>b?1:b>a?-1:0:(a=j(String(a||"")),b=j(String(b||"")),a>b?1:b>a?-1:0)},e=function(a,b){var c,d,e,f;for(c=1,d=arguments.length;d>c;c++)if(f=arguments[c])for(e in f)f.hasOwnProperty(e)&&(a[e]=f[e]);return a},f=function(a){return(a+"").replace(/^\s+|\s+$|/g,"")},g=function(a){return(a+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},h=Array.isArray||$&&$.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},i={a:"[aÀÁÂÃÄÅàáâãäåĀāąĄ]",c:"[cÇçćĆčČ]",d:"[dđĐďĎ]",e:"[eÈÉÊËèéêëěĚĒēęĘ]",i:"[iÌÍÎÏìíîïĪī]",l:"[lłŁ]",n:"[nÑñňŇńŃ]",o:"[oÒÓÔÕÕÖØòóôõöøŌō]",r:"[rřŘ]",s:"[sŠšśŚ]",t:"[tťŤ]",u:"[uÙÚÛÜùúûüůŮŪū]",y:"[yŸÿýÝ]",z:"[zŽžżŻźŹ]"},j=function(){var a,b,c,d,e="",f={};for(c in i)if(i.hasOwnProperty(c))for(d=i[c].substring(2,i[c].length-1),e+=d,a=0,b=d.length;b>a;a++)f[d.charAt(a)]=c;var g=new RegExp("["+e+"]","g");return function(a){return a.replace(g,function(a){return f[a]}).toLowerCase()}}();return c});